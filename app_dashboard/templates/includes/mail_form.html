{% extends "dashboard_base.html" %}
{% load static %}
{% block title %}
    emails
{% endblock title %}
{% block content %}
    <section class="L-emails">
        <ul class="L-emails__list">
            <li class="L-emails__item">
                <button class="L-emails__btn"
                        type="button"
                        hx-get="{% url 'mail_manual_partial' %}"
                        hx-target="#email-method-fields"
                        hx-swap="innerHTML">Manuální zadání</button>
            </li>
            <li class="L-emails__item">
                <button class="L-emails__btn"
                        type="button"
                        hx-get="{% url 'mail_employee_partial' %}"
                        hx-target="#email-method-fields"
                        hx-swap="innerHTML">Výběr zaměstnanců</button>
            </li>
            <li class="L-emails__item">
                <button class="L-emails__btn"
                        type="button"
                        hx-get="{% url 'mail_department_partial' %}"
                        hx-target="#email-method-fields"
                        hx-swap="innerHTML">Celé oddělení</button>
            </li>
        </ul>
        <form class="L-emails__form"
              hx-post="{% url 'send_mail_view' %}"
              hx-target="#email-result"
              hx-swap="innerHTML">
            {% csrf_token %}
            <div id="email-method-fields">{% include "includes/mail_manual.html" %}</div>
            <div>
                {{ form.subject.label_tag }}
                {{ form.subject }}
            </div>
            <div>
                {{ form.message.label_tag }}
                {{ form.message }}
            </div>
            <button type="submit" class="L-emails__form__submit">Odeslat</button>
        </form>
        <div id="email-result"></div>
    </section>
{% endblock content %}
